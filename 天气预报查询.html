<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>天气预报查询</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css">
	<style>
		*{
			margin:0;
			padding0;
		}
		ul{
			list-style:none;
	    }
		ul li{
			float:left;
		}
	</style>
</head>
<body>
	<label form="city">请输入城市名进行查询：</label>
	<input type="text" placeholder="请输入城市名" id="city" class="btn btn-default">
	<input type="button" id="btn" value="查询" class="btn btn-primary">
	<ul id="ul"></ul>
	<li id="li" style="display:none;">
		<p class="date"></p>
		<p class="temperature"></p>
		<p class="weather"></p>
		<p class="wind"></p>
		<p class="week"></p>
	</li>
	<script>
		function getWeather(data) {
			var data = data.result.future;
			for (var i in data) {
				var newLi = document.getElementById("li").cloneNode(true);
				newLi.style = "";
				newLi.getElementsByClassName("temperature")[0].innerHTML = data[i].temperature;
				newLi.getElementsByClassName("date")[0].innerHTML = data[i].date;
				newLi.getElementsByClassName("weather")[0].innerHTML = data[i].weather;
				newLi.getElementsByClassName("wind")[0].innerHTML = data[i].wind;
				newLi.getElementsByClassName("week")[0].innerHTML = data[i].week;
				console.log(newLi)
				ul.appendChild(newLi);
			}
		}
		btn.onclick = function () {
			var txt = city.value;
			var script = document.createElement("script");
			script.setAttribute("src","http://v.juhe.cn/weather/index?cityname= " + txt + "&key=e1caddf851ae910e1836495cfefb3c31&callback=getWeather");
			document.head.appendChild(script);
		}
	</script>
</body>
</html>